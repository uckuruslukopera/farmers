<div class="row">
  <div class="col-lg-3">
    <app-side-bar title="Sepetim" [withMenu]="false"></app-side-bar>
  </div>  
  <div class="col-lg-9">
    <div class="container">
      <br>
      <div class="card">
          <table class="table table-borderless table-responsive-sm">
            <thead>
              <tr>
                <th scope="col">Ürün</th>
                <th scope="col" >Ürün Sayısı</th>
                <th scope="col">Birim Fiyat</th>
                <th scope="col">Ürün Toplamı</th>
                <th scope="col" class="text-right"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let cartItem of cartItems$ | async">
                <td>
                  <figure class="media">
                    <div class="img-wrap">
                      <img src="{{cartItem.product?.image}}" class="img-fluid img-sm"></div>
                    <figcaption class="media-body">
                      <h6 class="title text-truncate">{{cartItem.product?.name}}</h6>
                    </figcaption>
                  </figure>
                  </td>
                <td>
                  <app-number-stepper [value]="cartItem.qty" (onValueChanged)="updateItemQty($event, cartItem.product)"></app-number-stepper>
                </td>
                <td>{{cartItem.product?.price | number:'1.2-2'}} TL</td>
                <td>{{cartItem.rowTotal  | number:'1.2-2'}} TL</td>
                <td class="text-right">
                  <a href="javascrip:void(0)" (click)="removeFromCart($event, product)" class="btn btn-outline-danger">Sil</a>
                </td>
              </tr>
            </tbody>
          </table>
        <div class="card-footer text-right">
          <p><b>Genel Toplam: </b> <span>{{(cartTotal$ | async) | number:'1.2-2'}} TL</span> </p>
          <a href="javascrip:void(0)" (click)="emptyCart($event)" class="btn btn-outline-danger">Sepeti Boşalt</a>
        </div>
      </div>
      <br/>
    </div>
  </div>
</div>

